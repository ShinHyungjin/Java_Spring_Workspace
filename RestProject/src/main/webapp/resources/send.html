<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
function regist() {
	var obj ={};
	obj["m_id"]=$("#m_id").val();
	obj["m_pass"]=$("#m_pass").val();
	obj["m_name"]=$("#m_name").val();
	console.log(obj);
	$.ajax({
		url:"/rest/member",
		type:"post",
		contentType:"application/json",
		data:JSON.stringify(obj), success:function (result) {
			console.log(result);
		}
		
		
	});
}
function getList() {
	$.ajax({
		url:"/rest/member",
		type:"GET",
		success:function(responseData) {
			console.log(responseData);
			printData(responseData);
		},
		error:function(xhr, status, error) {
			console.log("에러감지 xhr : ",xhr);
			alert(xhr.responseJSON.msg);
		}
	});
}

function printData(responseData) {
	var tag="<table border=\"1px\">";
	tag+="<tr>";
	tag+="<td>ID</td>";
	tag+="<td>Pass</td>";
	tag+="<td>Name</td>";
	tag+="</tr>";
	for(var i=0; i<responseData.length; i++) {
		var json = responseData[i];
		tag+="<tr>";
		tag+="<td>"+json.m_id+"</td>";
		tag+="<td>"+json.m_pass+"</td>";
		tag+="<td>"+json.m_name+"</td>";
		tag+="</tr>";
	}
	tag+="</table>";	
		$("#list-area").html(tag);
}
	
</script>
<style>

</style>
<meta charset="utf-8">
<title>Insert title here</title>
</head>
<body>

	<form>
		<input type="text" id="m_id" placeholder="아이디 입력" >
		<input type="text" id="m_pass" placeholder="비번 입력" >
		<input type="text" id="m_name" placeholder="이름 입력" >
	</form>
		<button type="button" onClick="regist()">전송</button>
		<button type="button" onClick="getList()">목록보기</button>
		
		<div id="list-area">동적 출력
			
		</div>

</body>
</html>